{"version":3,"sources":["app.js","define.js","log.js","auth.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../bundle.js","sourcesContent":["$(function(){\r\n\r\n\tvar WorkoutLog = (function($, undefined){\r\n\t\tvar API_BASE = \"http://localhost:3000/api/\";\r\n\t\t//\"https://log-hiit-workouts-api.herokuapp.com/api/\";\r\n\t\tvar userDefinitions = [];\r\n\r\n\t\tvar setAuthHeader = function(sessionToken) {\r\n\t\t\twindow.localStorage.setItem(\"sessionToken\", sessionToken);\r\n\t\t\t//Set the authorization header\r\n\t\t\t//This can be done on individual calls\r\n\t\t\t//here we showcase ajaxSetup as a global tool\r\n\t\t\t$.ajaxSetup({\r\n\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\"Authorization\": sessionToken\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//public\r\n\t\treturn {\r\n\t\t\tAPI_BASE: API_BASE,\r\n\t\t\tsetAuthHeader: setAuthHeader\r\n\t\t};\r\n\r\n\t})(jQuery);\r\n\r\n\t//Ensure .disabled aren't clickable\r\n\t$(\".nav-tabs a[data-toggle=tab]\").on(\"click\", function(e) {\r\n\t\tvar token = window.localStorage.getItem(\"sessionToken\");\r\n\t\tif ($(this).hasClass(\"disabled\") && !token) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\t//bind tab change events\r\n\t$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e){\r\n\t\tvar target = $(e.target).attr(\"href\"); //activated tab\r\n\t\tif (target === \"#define\") {\r\n\t\t\tWorkoutLog.exercise.setKcal();\r\n\t\t}\r\n\t\tif (target === \"#log\") {\r\n\t\t\tWorkoutLog.time.setDisplay();\r\n\t\t\tWorkoutLog.time.timer();\r\n\t\t}\r\n\r\n\t\tif (target === \"#history\") {\r\n\t\t\tWorkoutLog.log.setHistory();\r\n\t\t}\r\n\t});\r\n\t// bind enter key\r\n\t$(document).on(\"keypress\", function(e) {\r\n\t\tif (e.which === 13) { // enter key\r\n\t\t\tif ($(\"#signup-modal\").is(\":visible\")) {\r\n\t\t\t\t$(\"#signup\").trigger(\"click\");\r\n\t\t\t}\r\n\t\t\tif ($(\"#login-modal\").is(\"visible\")) {\r\n\t\t\t\t$(\"#login\").trigger(\"click\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(\"#add\").on('click', function() {\r\n\t\tWorkoutLog.exercise.setEx();\r\n\t\t//console.log(\"Add button working\");\r\n\t});\r\n\t$(\"#def-save\").on('click', function() {\r\n\t\t$('a[href=\"#log\"]').tab(\"show\");\r\n\t\t// WorkoutLog.time.timer();\r\n\t\t// WorkoutLog.time.setDisplay();\r\n\t\t\r\n\t});\r\n\t// \r\n\t//bind tab change events\r\n\t//bootstrap tab --> binding to a bootstrap event\r\n\t$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e) {\r\n\t\tvar target = $(e.target).attr(\"href\"); // activated tab\r\n\t\tif (target === \"#log\") {\r\n\t\t\tWorkoutLog.time.setDisplay();\r\n\t\t\tWorkoutLog.time.timer();\r\n\t\t}\r\n\t\tif (target === \"#update-log\") {\r\n\t\t\tWorkoutLog.log.setDefinitions();\r\n\t\t}\r\n\t\tif(target === \"#history\") {\r\n\t\t\tWorkoutLog.log.setHistory();\r\n\t\t}\r\n\t});\r\n\tvar token = window.localStorage.getItem(\"sessionToken\");\r\n\tif(token) {\r\n\t\tWorkoutLog.setAuthHeader(token);\r\n\t}\r\n\r\n\t// expose this to the other workoutlog modules\r\n\twindow.WorkoutLog = WorkoutLog;\r\n});\r\n\r\n","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\texercise: {\r\n\t\t\texercises: [],\r\n\t\t\t kcals: [],\r\n\t\t\t exer: [{name: \"Push Ups\",\r\n\t\t\t\tkcal: 596},\r\n\t\t\t\t{name: \"Burpees\",\r\n\t\t\t\tkcal: 563},\r\n\t\t\t\t{name: \"Crunches\",\r\n\t\t\t\tkcal: 312},\r\n\t\t\t\t{name: \"Spiderman Pushups\",\r\n\t\t\t\tkcal: 715},\r\n\t\t\t\t{name: \"Lunges\",\r\n\t\t\t\tkcal: 550},\r\n\t\t\t\t{name: \"Curtsey Lunges\",\r\n\t\t\t\tkcal: 550},\r\n\t\t\t\t{name: \"Plie Squats\",\r\n\t\t\t\tkcal: 892},\r\n\t\t\t\t{name: \"Squats\",\r\n\t\t\t\tkcal: 892},\r\n\t\t\t\t{name: \"Plank\",\r\n\t\t\t\tkcal: 228},\r\n\t\t\t\t{name: \"Wall Sit\",\r\n\t\t\t\tkcal: 369},\r\n\t\t\t\t{name: \"Jumping Jacks\",\r\n\t\t\t\tkcal: 246},\r\n\t\t\t\t{name: \"Calf Raises\",\r\n\t\t\t\tkcal: 211},\r\n\t\t\t\t{name: \"Mountain Climbers\",\r\n\t\t\t\tkcal: 482},\r\n\t\t\t\t{name: \"High Knees\",\r\n\t\t\t\tkcal: 527},\r\n\t\t\t\t{name: \"Donkey Kicks\",\r\n\t\t\t\tkcal: 316},\r\n\t\t\t\t{name: \"Jump Squats\",\r\n\t\t\t\tkcal: 475},\r\n\t\t\t\t{name: \"Side Plank Right\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Side Plank Left\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Lying Tricep Extension\",\r\n\t\t\t\tkcal: 352},\r\n\t\t\t\t{name: \"Glute Bridges\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Russian Twists\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Plank Hip Dips\",\r\n\t\t\t\tkcal: 316},\r\n\t\t\t\t{name: \"Fire Hydrants\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Bicycle Crunches\",\r\n\t\t\t\tkcal: 264},\r\n\t\t\t\t{name: \"Leg Lifts\",\r\n\t\t\t\tkcal: 281},\r\n\t\t\t\t{name: \"Lying Side Leg Raise Right\",\r\n\t\t\t\tkcal: 316},\r\n\t\t\t\t{name: \"Lying Side Leg Raise Left\",\r\n\t\t\t\tkcal: 316},\r\n\t\t\t\t{name: \"Single Leg Deadlift\",\r\n\t\t\t\tkcal: 450},\r\n\t\t\t\t{name: \"Butt Kicks\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Reverse Lunges\",\r\n\t\t\t\tkcal: 422},\r\n\t\t\t\t{name: \"Reverse Crunches\",\r\n\t\t\t\tkcal: 404},\r\n\t\t\t\t{name: \"Push Ups with Rotation\",\r\n\t\t\t\tkcal: 476},\r\n\t\t\t\t{name: \"Jack-Knifes\",\r\n\t\t\t\tkcal: 376},\r\n\t\t\t\t{name: \"Superman\",\r\n\t\t\t\tkcal: 226},\r\n\t\t\t\t{name: \"Oblique V-Crunches\",\r\n\t\t\t\tkcal: 376},\r\n\t\t\t\t{name: \"Crunch Twists\",\r\n\t\t\t\tkcal: 257}\r\n\t\t\t\t],\r\n\t\t\tsetKcal: function()\t{\r\n\t\t\t\tvar h = WorkoutLog.exercise.exer;\r\n\t\t\t\tfor (var i = 0; i < h.length; i++) {\r\n\t\t\t\t//console.log(exer[i]);\r\n\t\t\t\t\tfor (var item in h[i]) {\r\n\t\t\t\t\t\tvar value = h[i][item];\r\n\t\t\t\t\t\tif (typeof value === \"string\") {\r\n\t\t\t\t\t\t\tvar val = value.toLowerCase().split(\" \").join(\"\");\r\n\t\t\t\t\t\t\t$(\"#ex-select\").append(\"<option value='\" + value + \"' id='\" + val + \"'>\" + value + \"</option>\")\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tWorkoutLog.exercise.kcals.push(value)\r\n\t\t\t\t\t\t\t//console.log('integer')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t},\r\n\t\t\tsetEx: function() {\r\n\t\t\t\tvar selected = $(\"select#ex-select option:checked\").val();\r\n\t\t\t\t//console.log(selected);\r\n\t\t\t\t$(\"#exerciseList\").append(\"<li class='li_timer'>\" + selected + \"</li>\");\r\n\t\t\t\tWorkoutLog.exercise.exercises.push(selected)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefinition: {\r\n\t\t\tuserDefinitions: [],\r\n\r\n\t\t\tcreate: function() {\r\n\t\t\t\tvar def= {\r\n\t\t\t\t\tdesc: $(\"#def-description\").val(),\r\n\t\t\t\t\ttype: $(\"#def-logtype\").val()\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(def.desc);\r\n\t\t\t\tconsole.log(def.type);\r\n\t\t\t\tvar postData = {definition: def};\r\n\r\n\t\t\t\tconsole.log(postData);\r\n\r\n\t\t\t\tvar define = $.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\r\n\t\t\t\t\tdata: JSON.stringify(postData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\tdefine.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.definition.userDefinitions.push(data.definition);\r\n\t\t\t\t\tconsole.log(WorkoutLog.definition.userDefinitions);\r\n\t\t\t\t\t$(\"#def-description\").val(\"\");\r\n\t\t\t\t\t$(\"#def-logtype\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#log\"]').tab(\"show\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tfetchAll: function() {\r\n\t\t\t\tvar fetchDefs = $.ajax({\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"definition\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.done(function(data) {\r\n\t\t\t\t\tWorkoutLog.definition.userDefinitions = data;\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t//bindings\r\n\t$(\"#def-save\").on(\"click\", WorkoutLog.definition.create);\r\n\t//fetch definitions if we already are authenticated and refreshed\r\n\r\nif (window.localStorage.getItem(\"sessionToken\")) {\r\n\tWorkoutLog.definition.fetchAll();\r\n}\r\n\r\n});","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\tLog: {\r\n\t\t\tworkouts: [],\r\n\t\t\tsetWorkouts: function() {\r\n\t\t\t\tvar outs = WorkoutLog.exercise.exercises;\r\n\t\t\t\tvar len = outs.length;\r\n\t\t\t\tvar opts;\r\n\t\t\t\tfor (var i = 0; i < len; i ++) {\r\n\t\t\t\t\topts += \"<option value='\" + outs[i].id + \"'>\" + outs[i].exercise + \"</option>\";\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#log-definition\").children().remove();\r\n\t\t\t\t$(\"#log-definition\").append(opts);\r\n\t\t\t\t$(\"#update-definition\").children().remove();\r\n\t\t\t\t$(\"#update-definition\").append(opts);\r\n\t\t\t},\r\n\t\t\tsetHistory: function() {\r\n\t\t\t\tvar history = WorkoutLog.log.workouts;\r\n\t\t\t\tvar len = history.length;\r\n\t\t\t\tvar lis = \"\";\r\n\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" +\r\n\t\t\t\t\t// history[i].id + \" _ \" +\r\n\t\t\t\t\thistory[i].def + \" _ \" +\r\n\t\t\t\t\thistory[i].result + \" \" +\r\n\t\t\t\t\t// pass the log.id into the button's id attribute // watch your quotes!\r\n\t\t\t\t\t\"<div class='pull-right'>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='update'><strong>U</strong></button>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='remove'><strong>X</strong></button>\" +\r\n\t\t\t\t\t\t\"</div></li>\";\r\n\t\t\t\t}\r\n\t\t\t\t// for (var i= 0; i < len; i++) {\r\n\t\t\t\t// \tlis += \"<li class='list-group-item'>\" + history[i].def + \" - \" + history[i].result + \"</li>\";\r\n\t\t\t\t// }\r\n\t\t\t\t$(\"#history-list\").children().remove();\r\n\t\t\t\t$(\"#history-list\").append(lis);\r\n\t\t\t},\r\n\t\t}\r\n\t})\r\n})\r\n\r\n\r\n\r\n\r\n\r\n// $(function() {\r\n// \t$.extend(WorkoutLog, {\r\n// \t\tlog: {\r\n// \t\t\tworkouts: [],\r\n// \t\t\tsetWorkouts: function() {\r\n// \t\t\t\tvar outs = WorkoutLog.exercise.userDefinitions;\r\n// \t\t\t\tvar len = outs.length;\r\n// \t\t\t\tvar opts;\r\n// \t\t\t\tfor (var i = 0; i < len; i++) {\r\n// \t\t\t\t\topts += \"<option value='\" + outs[i].id + \"'>\" + outs[i].exercise + \"</option>\";\r\n// \t\t\t\t}\r\n// \t\t\t\t$(\"#log-definition\").children().remove();\r\n// \t\t\t\t$(\"#log-definition\").append(opts);\r\n// \t\t\t\t$(\"#update-definition\").children().remove();\r\n// \t\t\t\t$(\"#update-definition\").append(opts)\r\n// \t\t\t},\r\n// \t\t\tsetHistory: function() {\r\n// \t\t\t\tvar history = WorkoutLog.log.workouts;\r\n// \t\t\t\tvar len = history.length;\r\n// \t\t\t\tvar lis = \"\";\r\n// \t\t\t\tfor (var i = 0; i < len; i++) {\r\n// \t\t\t\t\tlis += \"<li class='list-group-item'>\" +\r\n// \t\t\t\t\t// history[i].id + \" _ \" +\r\n// \t\t\t\t\thistory[i].def + \" _ \" +\r\n// \t\t\t\t\thistory[i].result + \" \" +\r\n// \t\t\t\t\t// pass the log.id into the button's id attribute // watch your quotes!\r\n// \t\t\t\t\t\"<div class='pull-right'>\" +\r\n// \t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='update'><strong>U</strong></button>\" +\r\n// \t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='remove'><strong>X</strong></button>\" +\r\n// \t\t\t\t\t\t\"</div></li>\";\r\n// \t\t\t\t}\r\n// \t\t\t\t// for (var i= 0; i < len; i++) {\r\n// \t\t\t\t// \tlis += \"<li class='list-group-item'>\" + history[i].def + \" - \" + history[i].result + \"</li>\";\r\n// \t\t\t\t// }\r\n// \t\t\t\t$(\"#history-list\").children().remove();\r\n// \t\t\t\t$(\"#history-list\").append(lis);\r\n// \t\t\t},\r\n// \t\t\tcreate: function() {\r\n// \t\t\t\tvar itsLog = {\r\n// \t\t\t\t\tdescription: $(\"#log-description\").val(), //use the value of this specific id\r\n// \t\t\t\t\tresult: $(\"#log-result\").val(),\r\n// \t\t\t\t\tdef: $(\"#log-definition option:selected\").text()\r\n// \t\t\t\t};\r\n// \t\t\t\tvar postData = { log: itsLog };\r\n// \t\t\t\tvar logger = $.ajax({\r\n// \t\t\t\t\ttype: \"POST\",\r\n// \t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n// \t\t\t\t\tdata: JSON.stringify(postData),\r\n// \t\t\t\t\tcontentType: \"application/json\"\r\n// \t\t\t\t});\r\n\r\n// \t\t\t\tlogger.done(function(data) {\r\n// \t\t\t\t\tWorkoutLog.log.workouts.push(data);\r\n// \t\t\t\t\t$(\"#log-description\").val(\"\");\r\n// \t\t\t\t\t$(\"#log-result\").val(\"\");\r\n// \t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n// \t\t\t\t});\r\n// \t\t\t},\r\n// \t\t\tgetWorkout: function() {\r\n// \t\t\t\tvar thisLog = {id: $(this).attr(\"id\")};\r\n// \t\t\t\tconsole.log(thisLog);\r\n// \t\t\t\tlogID = thisLog.id;\r\n// \t\t\t\tvar updateData = {log: thisLog};\r\n// \t\t\t\tvar getLog = $.ajax({\r\n// \t\t\t\t\ttype: \"GET\",\r\n// \t\t\t\t\turl: WorkoutLog.API_BASE + \"log/\" + logID,\r\n// \t\t\t\t\tdata: JSON.stringify(updateData),\r\n// \t\t\t\t\tcontentType: \"application/json\"\r\n// \t\t\t\t});\r\n// \t\t\t\tgetLog.done(function(data){\r\n// \t\t\t\t\t$('a[href=\"#update-log\"]').tab('show');\r\n// \t\t\t\t\t$('#update-result').val(data.result);\r\n// \t\t\t\t\t$('#update-description').val(data.description);\r\n// \t\t\t\t\t$('#update-id').val(data.id)\r\n// \t\t\t\t});\r\n// \t\t\t},\r\n// \t\t\tupdateWorkout: function() {\r\n// \t\t\t\t$(\"#update\").text(\"Update\");\r\n// \t\t\t\tvar updateLog = {\r\n// \t\t\t\t\tid: $('#update-id').val(),\r\n// \t\t\t\t\tdesc: $(\"#update-description\").val(),\r\n// \t\t\t\t\t\tresult: $(\"#update-result\").val(),\r\n// \t\t\t\t\t\tdef: $(\"#update-definition option:selected\").text()\r\n// \t\t\t\t};\r\n// \t\t\t\tfor (var i =0; i < WorkoutLog.log.workouts.length; i++) {\r\n// \t\t\t\t\tif(WorkoutLog.log.workouts[i].id == updateLog.id){\r\n// \t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n// \t\t\t\t\t}\r\n// \t\t\t\t}\r\n// \t\t\t\tWorkoutLog.log.workouts.push(updateLog);\r\n// \t\t\t\tvar updateLogData = {log: updateLog};\r\n// \t\t\t\tvar updater = $.ajax({\r\n// \t\t\t\t\ttype: \"PUT\",\r\n// \t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n// \t\t\t\t\tdata: JSON.stringify(updateLogData),\r\n// \t\t\t\t\tcontentType: \"application/json\"\r\n// \t\t\t\t});\r\n// \t\t\t\tupdater.done(function(data) {\r\n// \t\t\t\t\tconsole.log(data);\r\n// \t\t\t\t\t$(\"#update-description\").val(\"\");\r\n// \t\t\t\t\t$(\"#update-result\").val(\"\");\r\n// \t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n// \t\t\t\t});\r\n// \t\t\t},\r\n// \t\t\tdelete: function() {\r\n// \t\t\t\tvar thisLog = {\r\n// \t\t\t\t\t// \"this\" is the button on the li\r\n// \t\t\t\t\t//.attr(\"id\") targets the value of the id attribute of button\r\n// \t\t\t\t\tid: $(this).attr(\"id\")\t\r\n// \t\t\t\t};\r\n// \t\t\t\tvar deleteData = { log: thisLog };\r\n// \t\t\t\tvar deleteLog = $.ajax({\r\n// \t\t\t\t\ttype: \"DELETE\",\r\n// \t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n// \t\t\t\t\tdata: JSON.stringify(deleteData),\r\n// \t\t\t\t\tcontentType: \"application/json\"\r\n// \t\t\t\t});\r\n\r\n// \t\t\t\t//removes list item\r\n// \t\t\t\t//references button then grabs closest li\r\n// \t\t\t\t$(this).closest(\"li\").remove();\r\n\r\n// \t\t\t\t//deletes item out of workouts array\r\n// \t\t\t\tfor(var i = 0; i < WorkoutLog.log.workouts.length; i++){\r\n// \t\t\t\t\tif(WorkoutLog.log.workouts[i].id === thisLog.id){\r\n// \t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n// \t\t\t\t\t}\r\n// \t\t\t\t}\r\n// \t\t\t\tdeleteLog.fail(function(){ //if server doesn't respond\r\n// \t\t\t\t\tconsole.log(\"Nope, you didn't delete it.\")\r\n// \t\t\t\t});\r\n// \t\t\t},\r\n// \t\t\tfetchAll: function() {\r\n// \t\t\t\tvar fetchDefs = $.ajax({\r\n// \t\t\t\t\ttype: \"GET\",\r\n// \t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n// \t\t\t\t\theaders: {\r\n// \t\t\t\t\t\t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n// \t\t\t\t\t}\r\n// \t\t\t\t})\r\n// \t\t\t\t.done(function(data) {\r\n// \t\t\t\t\tWorkoutLog.log.workouts = data;\r\n// \t\t\t\t})\r\n// \t\t\t\t.fail(function(err) {\r\n// \t\t\t\t\tconsole.log(err);\r\n// \t\t\t\t});\r\n// \t\t\t}\r\n// \t\t}\r\n// \t})\r\n// \t//Click the button and create a log entry.\r\n// \t$(\"#log-save\").on(\"click\", WorkoutLog.log.create);\r\n// \t$(\"#history-list\").delegate('.remove', 'click', WorkoutLog.log.delete);\r\n// \t$(\"#log-update\").on(\"click\", WorkoutLog.log.updateWorkout);\r\n// \t$(\"#history-list\").delegate('.update', 'click', WorkoutLog.log.getWorkout);\r\n\r\n// \tif (window.localStorage.getItem(\"sessionToken\")) {\r\n// \t\tWorkoutLog.log.fetchAll();\r\n// \t}\r\n\r\n// });\r\n","$(function(){\r\n\t$.extend(WorkoutLog, {\r\n\t\t//signup method\r\n\t\tsignup: function(){\r\n\t\t\tvar username = $(\"#su_username\").val();\r\n\t\t\tvar password = $(\"#su_password\").val();\r\n\t\t\tif (username === \"\" || password === \"\") {\r\n\t\t\t\t$(\"#su_error\").text(\"Please enter a username and password\").show();\r\n\t\t\t} else {\r\n\t\t\t\tvar user = {user: { username: username, password: password }};\r\n\t\t\t\t//signup post\r\n\t\t\t\tvar signup =$.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"user\",\r\n\t\t\t\t\tdata: JSON.stringify(user),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\t//signup done/fail\r\n\t\t\t\tsignup\r\n\t\t\t\t.done(function(data){ // data is the response from line 21 from routes/user.js\r\n\t\t\t\t\tif(data.sessionToken){\r\n\t\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\r\n\t\t\t\t\t\t//WorkoutLog.exercise.create();\r\n\t\t\t\t\t\t// WorkoutLog.definition.fetchAll();\r\n\t\t\t\t\t\t// WorkoutLog.log.fetchAll();\r\n\t\t\t\t\t\t// console.log(\"You made it!\");\r\n\t\t\t\t\t\t// console.log(data.sessionToken);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\"#signup-modal\").modal(\"hide\");\r\n\t\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\r\n\t\t\t\t\t$(\"#loginout\").text(\"Logout\");\r\n\t\t\t\t\t// console.log(\"Great job signing up!\")\r\n\t\t\t\t\t$('.nav-tabs a[href=\"#define\"]').tab('show');\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(\"#su_username\").val(\"\");\r\n\t\t\t\t\t$(\"#su_password\").val(\"\");\r\n\t\t\t\t\t//$('a[href=\"#define\"]').tab('show');\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function(){\r\n\t\t\t\t\t$(\"#su_error\").text(\"There was an issue with sign up\").show();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t//login method\r\n\t\tlogin: function() {\r\n\t\t\t//login variables\r\n\t\t\tvar username = $(\"#li_username\").val();\r\n\t\t\tvar password = $(\"#li_password\").val();\r\n\t\t\tif (username === \"\" || password === \"\") {\r\n\t\t\t\t$(\"#li_error\").text(\"Please enter a username and password\").show();\r\n\t\t\t} else {\r\n\t\t\t\tvar user = {user: { username: username, password: password }};\r\n\t\t\t\t//login POST\r\n\t\t\t\tvar login = $.ajax({\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"login\",\r\n\t\t\t\t\tdata: JSON.stringify(user),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\t//login done/fail\r\n\t\t\t\tlogin\r\n\t\t\t\t.done(function(data) { //data is the response from line 20 in server-routes/user.js\r\n\t\t\t\t\tif (data.sessionToken) {\r\n\t\t\t\t\t\tWorkoutLog.setAuthHeader(data.sessionToken);\r\n\t\t\t\t\t\tWorkoutLog.exercise.setKcal();\r\n\t\t\t\t\t\t// WorkoutLog.definition.fetchAll();\r\n\t\t\t\t\t\t// WorkoutLog.log.fetchAll();\r\n\t\t\t\t\t\t//console.log(data.sessionToken);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(\"#login-modal\").modal(\"hide\");\r\n\t\t\t\t\t$(\".disabled\").removeClass(\"disabled\");\r\n\t\t\t\t\t$(\"#loginout\").text(\"Logout\");\r\n\t\t\t\t\t$(\"#li_username\").val(\"\");\r\n\t\t\t\t\t$(\"#li_password\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#define\"]').tab(\"show\");\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function() {\r\n\t\t\t\t\t$(\"#li_error\").text(\"There was an issue with sign up\").show();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//loginout method\r\n\t\tloginout: function(){\r\n\t\t\tif(window.localStorage.getItem(\"sessionToken\")) {\r\n\t\t\t\twindow.localStorage.removeItem(\"sessionToken\");\r\n\t\t\t\t$(\".enable\").addClass(\"disabled\");\r\n\t\t\t\t$(\"#loginout\").text(\"Login\");\r\n\t\t\t\t$('a[href=\"#home\"]').tab(\"show\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\t//bind events\r\n\t$(\"#login\").on(\"click\", WorkoutLog.login);\r\n\t$(\"#signup\").on(\"click\", WorkoutLog.signup);\r\n\t$(\"#loginout\").on(\"click\", WorkoutLog.loginout);\r\n\r\n\tif (window.localStorage.getItem(\"sessionToken\")) {\r\n\t\t$(\"#loginout\").text(\"Logout\");\r\n\t}\r\n});"]}